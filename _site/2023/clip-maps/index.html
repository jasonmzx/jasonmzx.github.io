








<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>jasonmzx | Jason Manarroo | Clipmapping (Optimized "Open-World" Rendering Techniques for Games) </title>
    <link rel="shortcut icon" type="image/png" href="/favicon.png" >
    <meta name="theme-color" content="#222222"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="/assets/css/fa-svg.css" rel="stylesheet">
    <link href="/assets/css/bootstrap4.min.css" rel="stylesheet">
    <link href="/assets/css/theme.css" rel="stylesheet">
    <link href="/assets/css/syntax.css" rel="stylesheet">
 </head>

<body>

<nav class="navbar navbar-expand-sm navbar-dark">
    <div class="navbar-collapse" style="display: block;">
        <div style="margin-bottom: 1vh; padding-left: 3vw;">
        <a class="navbar-brand " href="/">
            <!-- <img class="navbar-img" src="/favicon.png"> -->
            jasonmzx | Jason Manarroo
        </a>
        <br>
        <span style="color:#2AAA8A; font-weight: 600;">Software Engineering Student</span>
    </div>

        <div class="navbar-nav" style="flex-wrap: wrap;">

            <a class="nav-item nav-link" href="/">
                
                <svg xmlns="http://www.w3.org/2000/svg" height="19px" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0M3.124 7.5A8.969 8.969 0 015.292 3m13.416 0a8.969 8.969 0 012.168 4.5" />
                  </svg>
                  

            Home</a>

            <a class="nav-item nav-link" href="/recent/">
                
                <svg xmlns="http://www.w3.org/2000/svg" height="19px"fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10" />
                </svg>

            Recent</a>

            <a class="nav-item nav-link" href="/archive">

            <svg xmlns="http://www.w3.org/2000/svg" height="19px" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125" />
                  </svg>
                  

            Archive</a>

            <a class="nav-item nav-link" href="/tags">
            
            <svg xmlns="http://www.w3.org/2000/svg" height="19px"  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 6h.008v.008H6V6z" />
                  </svg>
                  

            Tags</a>
            <a class="nav-item nav-link" href="/projects">
                <svg xmlns="http://www.w3.org/2000/svg" height="19px"  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 6.75L22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3l-4.5 16.5" />
                  </svg>

            Projects</a>
        </div>
    </div>
</nav>


    <div class="wrapper">
      <div class="content">
        <div class="special_container">
          <div class="row">
            <div class="col-md-9">
              <div class="card" style="margin-left: 2.5vw;">
                <h1 id="my-notes--qna-on-clip-mapping-various-challenges--techniques">My Notes &amp; QnA on Clip-Mapping; Various Challenges &amp; Techniques</h1>

<p>Clip-mapping essentially optimizes the amount of Vertices rendered on Scene, whilst still maintaining a very convincing effect of the ‚ÄúOpen-World‚Äù going all the way to the Horizon.</p>

<p>Making the Player feel as if they are in a Huge &amp; Vast World, but without having to render most of the map in it‚Äôs full detail, only what‚Äôs surrounding the player, and it gradually get‚Äôs less detailed as the distance increases <em>(Towards the ‚ÄúHorizon‚Äù of the viewport)</em></p>

<p>The way you‚Äôre able to see so far in the world is since the further you are from a place,Naturally the less detail you see‚Ä¶ Obviously stuff just gets far, and we looks ‚ÄúResolution‚Äù so to speak with our eyes, this kind of thing <br />
can be simulated with this technique; <strong>Terrain Rendering Using GPU-Based Geometry Clipmaps</strong>:</p>

<p><img src="/assets/custom/pictures/clip_map1.png" alt="Clip Map 1" /></p>

<p>Essentially, at your player <em>(The Camera)</em> it will render the areas closest to you with the Finest Level of detail, as you get very close to this position in the open world.</p>

<p>Gradually as you look further out in the distance of the world, it renders a different level of detail, which is still the same map, but at a Coarser detail <strong>(Divided by 2, each LOD for example)</strong></p>

<p><strong>LOD</strong> : Level-of-Detail, Referred to as an Entire Layer of Various Detail Level, Example the LODs far away are very coarse. The LOD nearest to the player is the finest possible.</p>

<p>Notice how these <strong>LOD</strong>s form rings of detail arround the player so to speak, <em>Square-ish Rings</em> LOL</p>

<hr />

<h3 id="isnt-it-very-expensive-to-dynamically-simplify-further-away-parts-of-the-map-on-the-fly">Isn‚Äôt it very expensive to dynamically simplify further away parts of the map, on the fly?</h3>

<p>Yes, this in real-time would be computationally expensive, but given a known map, we can pre-compute all <strong>LOD</strong> Layers <em>(The entire map)</em> and just render the <strong>Rings</strong> at needed positions arround the Camera</p>

<h4 id="-gpt4s-input">ü§ñ GPT4‚Äôs Input:</h4>

<p><strong>Precomputed Levels:</strong> Often, multiple LODs of the terrain are precomputed. This means the finer and coarser versions are already available, and the system just needs to select which one to render based on the distance from the camera. For example, a terrain patch might have a full-resolution mesh, a half-resolution mesh, a quarter-resolution mesh, etc. These are pre-generated and stored.</p>

<p><strong>Streaming and Caching:</strong> Modern games and engines usually integrate LOD techniques with data streaming. The high-resolution data for distant terrains is not kept in memory but is streamed in as the player approaches. Meanwhile, coarser representations might be cached in memory for quick access.</p>

<hr />

<h3 id="between-lods--ill-have-different-levels-next-to-eachother-surely-there-will-be-some-tearing-">Between LODs , I‚Äôll have different ‚ÄúLevels‚Äù next to eachother, surely there will be some tearing !?!</h3>

<p><img src="/assets/custom/pictures/clip_map2.png" alt="Clip Map 2" /></p>

<p>Checkout the Discrepancies!</p>

<p>To solve this, <strong>Transition Layers</strong> are used to be, since in the Scene, we‚Äôll always know exactly where we LODs ‚Äúseam‚Äù together.</p>

<p><img src="/assets/custom/pictures/clip_map3.png" alt="Clip Map 3" /></p>

<p>So these <strong>Transition Layers</strong> Can be pre-computed aswell for every possible combination of Neighbouring LODs‚Ä¶ That‚Äôs <strong>ALOT OF COMBOS !!!</strong></p>

<p>It also might be viable to just compute the transition layers on during run-time, might be an OK trade-off, to having <strong>Game World Maps</strong> being extremely space complex?</p>

<h4 id="-gpt4s-input-1">ü§ñ GPT4‚Äôs Input:</h4>

<p><strong>Pattern-based Transitions:</strong> Instead of precomputing unique transition patterns for every possible scenario, developers can precompute patterns for the basic scenarios and reuse them. For instance, if you have 4 LOD levels, you‚Äôd primarily be concerned with transitions between LOD 0-1, 1-2, and 2-3. The specific pattern or stitching used to bridge between LOD 1 and 2, for example, can be reused wherever this transition occurs in the terrain. The patterns are a representation of how one LOD can transition to another, but they don‚Äôt represent specific parts of the terrain.</p>

<p><strong>Dynamic Stitching:</strong> Dynamic Stitching: Some engines employ methods to dynamically create the stitching between LOD levels at runtime. While this might incur a computational cost, it can save on memory and storage.</p>

<p><strong>Simplification of Farthest LODs:</strong> At very distant LODs, where details are minuscule on screen, terrains can be vastly simplified. Such simplifications reduce the need for intricate transition patterns since the difference between two very distant LODs might be negligible.</p>

<p><em>So I can just really simple stitching algorithms, and with such a low vertex counter between the far LODs, It‚Äôs gonna be fast asf!</em></p>

<hr />

<h3 id="when-looking-at-further-lod-levels-how-can-i-ensure-that-the-general-shape-keeps-its-character-features-from-afar">When looking at further LOD Levels, how can I ensure that the general shape keeps it‚Äôs ‚ÄúCharacter‚Äù Features from afar?</h3>
<p>(Example: Stoney Cliff Side Up close, But from afar it looks like a flat rock)</p>

<h4 id="-gpt4s-input-2">ü§ñ GPT4‚Äôs Input:</h4>

<p>This is one of the core challenges of LOD techniques: preserving the ‚Äúcharacter‚Äù or primary features of the original model as it‚Äôs simplified. If not handled properly, the terrain or object can indeed look noticeably different, or even wrong, at lower LODs. This is especially true for features like a rocky cliff-side where the intricate details and silhouette contribute significantly to its appearance.</p>

<p>Here are some considerations and techniques related to this:</p>

<p><strong>Feature Preservation:</strong> Advanced; simplification of mesh algorithms aim to preserve the primary features of the model. They don‚Äôt just remove vertices arbitrarily. Instead, they prioritize vertices based on certain metrics (e.g., curvature, importance, visual saliency) to ensure that important features are preserved as long as possible.</p>

<p><strong>Normal Maps:</strong> To retain the appearance of details without having them in geometry, games often use normal maps. Even when the geometry is simplified, the normal map can give the illusion of those details when rendering, especially when lighting is involved. So, a cliff might lose its intricate geometry at a distance, but a normal map could still provide the appearance of those rocky details.</p>

<table>
  <tbody>
    <tr>
      <td><strong>Dynamic &amp; Continuous LOD (CLOD):</strong> Some techniques don‚Äôt use discrete LOD levels but adjust the mesh continuously based on various factors like distance, screen space error, etc. This can offer smoother transitions but might be more computationally intensive.</td>
      <td><em>NOT PRE-COMPUTED!</em></td>
    </tr>
  </tbody>
</table>

<p><strong>Adjusting by Hand:</strong> In some cases, especially for crucial assets in a game, artists might manually adjust the lower LOD models to ensure they retain the desired appearance. While algorithms can do a lot, there‚Äôs sometimes no substitute for the human touch.</p>

<hr />

<h2 id="great-ressources">Great Ressources!</h2>

<iframe width="560" height="315" src="https://www.youtube.com/embed/yoUQRT-Hmcc" frameborder="0" allowfullscreen=""></iframe>

<p><a href="https://hhoppe.com/proj/geomclipmap/">GEO CLIPMAP | hhoppe.com</a></p>

<p><a href="https://developer.nvidia.com/gpugems/gpugems2/part-i-geometric-complexity/chapter-2-terrain-rendering-using-gpu-based-geometry">developers.NVIDIA.com | GPU Gems 2</a></p>


              </div>
            </div>
            <div class="col-md-3 hidden-xs">
              <div class="sidebar ">
  <h2>Latest Activity</h2>
  <ul>
    
    <li><a href="/2023/clip-maps/">Clipmapping (Optimized "Open-World" Rendering Techniques for Games)</a></li>
    
    <li><a href="/2023/react-in-production/">React In Production</a></li>
    
    <li><a href="/2023/kick-tracker-init/">Punch & Kick Tracking using Camera</a></li>
    
    <li><a href="/2023/stratified-vs-random/">Stratified VS. Random Sampling</a></li>
    
    <li><a href="/2023/first-post/">First Post!</a></li>
    
  </ul>
</div>

<div class="sidebar">
  <h2>Tags</h2>
  <ul class="fa-ul">
    
    
    <li>
      
      
<span class="fa-li">
    <svg class="svg-inline--fa fa-tag fa-w-16" aria-hidden="true" 
        data-prefix="fas" data-icon="tag"
        role="img"
        xmlns="http://www.w3.org/2000/svg" 
        viewBox="0 0 512 512" 
        data-fa-i2svg="">
        <path fill="currentColor"
            d="M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z">
        </path>
    </svg>
</span>

      <!-- <span class="fa-li"><i class="fas fa-tag"></i></span> -->

            <a href="/tag/computer-graphics" data-toggle="tooltip" data-placement="right" title="1">
        <span>computer-graphics</span></a>
    </li>
    
    <li>
      
      
<span class="fa-li">
    <svg class="svg-inline--fa fa-tag fa-w-16" aria-hidden="true" 
        data-prefix="fas" data-icon="tag"
        role="img"
        xmlns="http://www.w3.org/2000/svg" 
        viewBox="0 0 512 512" 
        data-fa-i2svg="">
        <path fill="currentColor"
            d="M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z">
        </path>
    </svg>
</span>

      <!-- <span class="fa-li"><i class="fas fa-tag"></i></span> -->

            <a href="/tag/devops" data-toggle="tooltip" data-placement="right" title="1">
        <span>devops</span></a>
    </li>
    
    <li>
      
      
<span class="fa-li">
    <svg class="svg-inline--fa fa-tag fa-w-16" aria-hidden="true" 
        data-prefix="fas" data-icon="tag"
        role="img"
        xmlns="http://www.w3.org/2000/svg" 
        viewBox="0 0 512 512" 
        data-fa-i2svg="">
        <path fill="currentColor"
            d="M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z">
        </path>
    </svg>
</span>

      <!-- <span class="fa-li"><i class="fas fa-tag"></i></span> -->

            <a href="/tag/github" data-toggle="tooltip" data-placement="right" title="2">
        <span>github</span></a>
    </li>
    
    <li>
      
      
<span class="fa-li">
    <svg class="svg-inline--fa fa-tag fa-w-16" aria-hidden="true" 
        data-prefix="fas" data-icon="tag"
        role="img"
        xmlns="http://www.w3.org/2000/svg" 
        viewBox="0 0 512 512" 
        data-fa-i2svg="">
        <path fill="currentColor"
            d="M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z">
        </path>
    </svg>
</span>

      <!-- <span class="fa-li"><i class="fas fa-tag"></i></span> -->

            <a href="/tag/machine-learning" data-toggle="tooltip" data-placement="right" title="2">
        <span>machine-learning</span></a>
    </li>
    
    <li>
      
      
<span class="fa-li">
    <svg class="svg-inline--fa fa-tag fa-w-16" aria-hidden="true" 
        data-prefix="fas" data-icon="tag"
        role="img"
        xmlns="http://www.w3.org/2000/svg" 
        viewBox="0 0 512 512" 
        data-fa-i2svg="">
        <path fill="currentColor"
            d="M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z">
        </path>
    </svg>
</span>

      <!-- <span class="fa-li"><i class="fas fa-tag"></i></span> -->

            <a href="/tag/react.js" data-toggle="tooltip" data-placement="right" title="1">
        <span>react.js</span></a>
    </li>
    
  </ul>
</div>

            </div>
          </div>
        </div>
      </div>
      
    </div>
  </body>
</html>
